<!DOCTYPE html>
<html lang="en-US">
<head>
  	<title>Mat McLoughlin</title>

  	<meta charset="UTF-8" />
  	<meta name="viewport" content="width=device-width" />
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0" />
	<meta name="description" content=".Net developer and lover of javascript. This blog contains my thoughts and ramblings.">
	<meta name="author" content="Mathew McLoughlin">
  
	<link rel="shortcut icon" href="/images/favicon.ico" />

  	<link href="" rel="alternate" title="" type="application/atom+xml">
  
	<link rel='stylesheet' href='/stylesheets/style.css' type='text/css' media='all' />
	<link rel='stylesheet' href='/stylesheets/includes/fonts/fontawesome/font-awesome.css' type='text/css' media='screen' />
	<link rel='stylesheet' href='/stylesheets/media-queries.css' type='text/css' media='screen' />
	<link rel='stylesheet' href='/stylesheets/pygments.css' type='text/css' media='screen' />

	<style type="text/css">
		a, #cancel-comment-reply i {
			color: rgba(0,83,159,0.65);
		}

		.next-prev a, #respond .respond-submit, .wpcf7-submit, .header .search-form .submit, .search-form .submit { 
			background: rgba(0,83,159,1);
		}

		.infinite-scroll #infinite-handle {
			overflow: auto;
		}
	</style>

	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css' />
	<link rel='stylesheet' id='google-raleway-css'  href='http://fonts.googleapis.com/css?family=Raleway%3A300%2C500%2C700%2C800&#038;ver=3.6.1' type='text/css' media='all' />
	<script type="text/javascript" src="http://codeorigin.jquery.com/jquery-1.10.2.min.js"></script>
</head>
<body class="home blog infinite-scroll"> 
	<header role="banner" class="header"> 
		<hgroup>
			<h1 class="logo-text">
				<a href="/" title="Mat McLoughlin">Mat McLoughlin</a>
			</h1>
			<h2 class="logo-subtitle">A calm sea does not make a skilled sailor</h2> 
		</hgroup> 
  		<nav role="navigation" class="header-nav"> 
  			<ul id="menu-header" class="nav">
    			<li id="menu-item-blog">
      				<a href="/">Blog</a>
    			</li>
    			<li id="menu-item-talks">
      				<a href="/talks.html">Talks</a>
    			</li>
    			<li id="menu-item-archive">
  					<a href="/archives.html">Archive</a>
    			</li>
  			</ul>
		</nav>
	</header>
	<div id="wrapper">
		<div id="main">
			<div id="content">
				<style type="text/css">
.nav #menu-item-blog a {
    color: #fff;
}
</style>

<div class="posts">
    <article class="post" style="margin-bottom: 0;"> 
        

        <div class="box-wrap">
            <div class="box"> 
                <header class="post-header">
                    <div class="date-title"> 3 July, 2013</div>
                    <h2 class="entry-title">
                        <a href="http://mat-mcloughlin.net/2013/07/03/saving-key-strokes-can-bring-a-world-of-pain.html" title="Saving Key Strokes can bring a World of Pain">Saving Key Strokes can bring a World of Pain</a>
                    </h2> 
                </header>
                <div class="post-content">
                    <p>Developers seem to fall into two schools of thought on this one. Limit the amount of code you write or leverage the syntax to assure no mistakes are made. I’ve flirted between the two, but right now I’m heavily in favor of the latter approach.</p>

<p>What am I talking about? Well two things in particular. Firstly the use of chaining declarations in JavaScript and secondly omitting curly braces in single line if statements.</p>

<p>Both of these things have caught me out recently. Let me give you some examples:</p>

<h2 id="chaining_declarations_in_javascript">Chaining Declarations in JavaScript</h2>
<div class='highlight'><pre><code class='js'><span class='lineno'>1</span> <span class='kd'>function</span> <span class='nx'>SomeObject</span><span class='p'>()</span> <span class='p'>{</span>
<span class='lineno'>2</span>     <span class='kd'>var</span> <span class='nx'>span</span> <span class='o'>=</span> <span class='nb'>document</span><span class='p'>.</span><span class='nx'>createElement</span><span class='p'>(</span><span class='s1'>&#39;span&#39;</span><span class='p'>),</span>
<span class='lineno'>3</span>         <span class='nx'>li</span> <span class='o'>=</span> <span class='nb'>document</span><span class='p'>.</span><span class='nx'>createElement</span><span class='p'>(</span><span class='s1'>&#39;li&#39;</span><span class='p'>),</span>
<span class='lineno'>4</span>         <span class='nx'>div</span> <span class='o'>=</span> <span class='nb'>document</span><span class='p'>.</span><span class='nx'>createElement</span><span class='p'>(</span><span class='s1'>&#39;div&#39;</span><span class='p'>);</span>
<span class='lineno'>5</span>         <span class='nx'>label</span> <span class='o'>=</span> <span class='nb'>document</span><span class='p'>.</span><span class='nx'>createElement</span><span class='p'>(</span><span class='s1'>&#39;label&#39;</span><span class='p'>),</span>
<span class='lineno'>6</span>         <span class='nx'>input</span> <span class='o'>=</span> <span class='nb'>document</span><span class='p'>.</span><span class='nx'>createElement</span><span class='p'>(</span><span class='s1'>&#39;input&#39;</span><span class='p'>);</span>
<span class='lineno'>7</span> <span class='p'>}</span>
</code></pre></div>
<p>Can you spot the mistake. I accidentally used a semi-colon instead of a comma when declaring my variables. This is bad news. It means that everything after the semi-colon became a global variable and therefore there could be contamination between my two object instances. This wasn’t picked up by my IDE and took a second pair of eyes to find it (thanks Rob).</p>

<p>This could have all been easily avoided if I had just declared everything individually as below:</p>
<div class='highlight'><pre><code class='js'><span class='lineno'>1</span> <span class='kd'>function</span> <span class='nx'>SomeObject</span><span class='p'>()</span> <span class='p'>{</span>
<span class='lineno'>2</span>     <span class='kd'>var</span> <span class='nx'>span</span> <span class='o'>=</span> <span class='nb'>document</span><span class='p'>.</span><span class='nx'>createElement</span><span class='p'>(</span><span class='s1'>&#39;span&#39;</span><span class='p'>);</span>
<span class='lineno'>3</span>     <span class='kd'>var</span> <span class='nx'>li</span> <span class='o'>=</span> <span class='nb'>document</span><span class='p'>.</span><span class='nx'>createElement</span><span class='p'>(</span><span class='s1'>&#39;li&#39;</span><span class='p'>);</span>
<span class='lineno'>4</span>     <span class='kd'>var</span> <span class='nx'>div</span> <span class='o'>=</span> <span class='nb'>document</span><span class='p'>.</span><span class='nx'>createElement</span><span class='p'>(</span><span class='s1'>&#39;div&#39;</span><span class='p'>);</span>
<span class='lineno'>5</span>     <span class='kd'>var</span> <span class='nx'>label</span> <span class='o'>=</span> <span class='nb'>document</span><span class='p'>.</span><span class='nx'>createElement</span><span class='p'>(</span><span class='s1'>&#39;label&#39;</span><span class='p'>);</span>
<span class='lineno'>6</span>     <span class='kd'>var</span> <span class='nx'>input</span> <span class='o'>=</span> <span class='nb'>document</span><span class='p'>.</span><span class='nx'>createElement</span><span class='p'>(</span><span class='s1'>&#39;input&#39;</span><span class='p'>);</span>
<span class='lineno'>7</span> <span class='p'>}</span>
</code></pre></div>
<p>It doesn’t look as tidy but it certainly will help avoid any pitfalls.</p>

<h2 id="omitting_curly_braces_on_single_line_if_statements">Omitting curly braces on single line if statements</h2>

<p>This caught me out too. Consider this example:</p>
<div class='highlight'><pre><code class='csharp'><span class='lineno'>1</span> <span class='n'>function</span> <span class='k'>void</span> <span class='nf'>ClearStuff</span><span class='p'>(</span><span class='kt'>bool</span> <span class='n'>shouldIClear</span><span class='p'>)</span> <span class='p'>{</span>
<span class='lineno'>2</span>     <span class='k'>if</span> <span class='p'>(</span><span class='n'>shouldIClear</span><span class='p'>)</span>
<span class='lineno'>3</span>         <span class='n'>Foo</span> <span class='p'>=</span> <span class='k'>null</span><span class='p'>;</span>
<span class='lineno'>4</span> <span class='p'>}</span>
</code></pre></div>
<p>If somebody decided they want to clear out Bar as well its possible they would just add the line in below not noticing the lack of braces:</p>
<div class='highlight'><pre><code class='csharp'><span class='lineno'>1</span> <span class='n'>function</span> <span class='k'>void</span> <span class='nf'>ClearStuff</span><span class='p'>(</span><span class='kt'>bool</span> <span class='n'>shouldIClear</span><span class='p'>)</span> <span class='p'>{</span>
<span class='lineno'>2</span>     <span class='k'>if</span> <span class='p'>(</span><span class='n'>shouldIClear</span><span class='p'>)</span>
<span class='lineno'>3</span>         <span class='n'>Foo</span> <span class='p'>=</span> <span class='k'>null</span><span class='p'>;</span>
<span class='lineno'>4</span>         <span class='n'>Bar</span> <span class='p'>=</span> <span class='k'>null</span><span class='p'>;</span>
<span class='lineno'>5</span> <span class='p'>}</span>
</code></pre></div>
<p>And this code isn’t going to work as expected. Its easily done and will compile so could easily go unnoticed. Better to include the braces so when somebody comes along to modify the code, its clear where the if statement starts and ends:</p>
<div class='highlight'><pre><code class='csharp'><span class='lineno'>1</span> <span class='n'>function</span> <span class='k'>void</span> <span class='nf'>ClearStuff</span><span class='p'>(</span><span class='kt'>bool</span> <span class='n'>shouldIClear</span><span class='p'>)</span> <span class='p'>{</span>
<span class='lineno'>2</span>     <span class='k'>if</span> <span class='p'>(</span><span class='n'>shouldIClear</span><span class='p'>)</span>
<span class='lineno'>3</span>     <span class='p'>{</span>
<span class='lineno'>4</span>         <span class='n'>Foo</span> <span class='p'>=</span> <span class='k'>null</span><span class='p'>;</span>
<span class='lineno'>5</span>     <span class='p'>}</span>
<span class='lineno'>6</span> <span class='p'>}</span>
</code></pre></div>
<p>Some may argue that the code isn’t as readable. I say its about limiting pitfalls.</p>
                </div>
                <ul class="meta">
                    <div class="meta-title">Share</div>
                    <li>
                        <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://mat-mcloughlin.github.io/2013/07/03/saving-key-strokes-can-bring-a-world-of-pain.html" data-text="Saving Key Strokes can bring a World of Pain" data-via="mat_mcloughlin">Tweet</a>
                        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </li>
                    <li> 
                        <a href="http://news.ycombinator.com/submit" class="hn-share-button">Vote on HN</a>
                        <script>(function(d, t) { var g = d.createElement(t), s = d.getElementsByTagName(t)[0]; g.src = '//hnbutton.appspot.com/static/hn.min.js'; s.parentNode.insertBefore(g, s); }(document, 'script'));</script>
                        </li>
                        <li>
                            <div class="g-plusone" data-size="medium" data-annotation="inline" data-width="300"></div>
                            <script type="text/javascript">(function() { var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true; po.src = 'https://apis.google.com/js/plusone.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s); })();</script>
                        </li>
                        <li>
                            <div class="fb-like" data-href="http://mat-mcloughlin.github.io/2013/07/03/saving-key-strokes-can-bring-a-world-of-pain.html" data-width="450" data-layout="button_count" data-show-faces="true" data-send="false"></div>
                            <div id="fb-root"></div>
                            <script>(function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1"; fjs.parentNode.insertBefore(js, fjs); }(document, 'script', 'facebook-jssdk'));</script>
                        </li>
                        <li class="next-prev-mobile">&nbsp;</li>
                        <li class="prev-mobile next-prev-mobile">
                            <a href="http://themes.okaythemes.com/pocket/2012/10/01/bart-goes-under-the-bay/" rel="prev"><i class="icon-arrow-left"></i> Previous Post</a>
                        </li>
                        <li class="next-prev-mobile">
                            <a href="http://themes.okaythemes.com/pocket/2012/10/01/a-trip-to-the-san-francisco-bay/" rel="next"><i class="icon-arrow-right"></i> Next Post</a>
                        </li>
                    </ul>
                </div>
            </div> 
        </div>
    </article>
</div>

<div id="comment-jump" class="comments"><div id="comments">
        <div class="comments-wrap">
            <div id="disqus_thread"></div>
            <script type="text/javascript">
              /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
              var disqus_shortname = 'invalidargblog'; // required: replace example with your forum shortname

              /* * * DON'T EDIT BELOW THIS LINE * * */
              (function() {
                  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
              })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
    </div>
</div>

<div class="next-prev">
    
        <div class="prev-post"> 
            <a href="/2013/06/15/another-reason-to-do-TDD.html" rel="prev">Previous Post</a>
        </div>
    
    
        <div class="next-post"> 
            <a href="/2013/07/22/why-im-no-longer-giving-up-on-csharp.html" rel="next">Next Post</a>
        </div>
    
</div>


			</div>
		</div>
	</div>
	<footer id="footer">
		<div id="footer-inside">
			<div id="text-2" class="widget widget_text">
				<h2 class="widgettitle">Mathew McLoughlin</h2>
				<div class="textwidget">Net developer and lover of javascript. I enjoy climbing and surfing (in cold water). Powered by Beard.</div>
			</div>
			<div id="recent-posts-3" class="widget widget_recent_entries">
				<h2 class="widgettitle">Recent Posts</h2>
				<ul>
					
						<li><a href="/2013/12/24/chocolatey-the-schema-version-is-incompatible.html" title="Chocolatey: The schema version is incompatible" title="Chocolatey: The schema version is incompatible">Chocolatey: The schema version is incompatible</a></li>
					
						<li><a href="/2013/12/12/this-code-is-bad-and-you-should-feel-bad.html" title="This Code is Bad and you should feel Bad" title="This Code is Bad and you should feel Bad">This Code is Bad and you should feel Bad</a></li>
					
						<li><a href="/2013/12/01/twelve-achivements-to-unlock.html" title="12 life achievements to unlock" title="12 life achievements to unlock">12 life achievements to unlock</a></li>
					
				</ul>
			</div>
			<div id="archives-2" class="widget widget_archive">
				<h2 class="widgettitle">Social Links</h2>
				<ul>
					<li>
						<i class="icon-twitter"></i> <a href="https://twitter.com/mat_mcloughlin" title="Twitter">Twitter</a></li>
					<li>
						<i class="icon-github"></i> <a href="https://github.com/mat-mcloughlin" title="GitHub">GitHub</a>
					</li>
					<li>
						<i class="icon-rss"></i> <a href="/rss.xml" title="August 2012">RSS</a>
					</li>
				</ul>
			</div>
		</div> 
	</footer>
	
	<script type="text/javascript">

	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-1746767-6']);
	  _gaq.push(['_trackPageview']);

	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

	</script>
</body>
</html>